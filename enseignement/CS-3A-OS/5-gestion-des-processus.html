<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title>Les systèmes d'exploitation : Gestion des processus et des threads</title>

	<link rel="stylesheet" href="../reveal-js-framework/dist/reset.css">
	<link rel="stylesheet" href="../reveal-js-framework/dist/reveal.css">
	<link rel="stylesheet" href="../reveal-js-framework/dist/theme/white.css" id="theme">
	<link rel="stylesheet" href="../resources/css/slides-style.css">
	<link rel="stylesheet" href="../../CSS/font-awesome-4.7.0/css/font-awesome.min.css" />

	<!-- Theme used for syntax highlighting of code -->
	<link rel="stylesheet" href="../resources/highlight/styles/github-dark.css">
	<link rel="stylesheet" href="../resources/css/event-b-theme.css">

	<script type="text/javascript" src="../resources/js/mathjax.js"></script>
	<script type="text/javascript" id="MathJax-script" src="../resources/MathJax/es5/tex-mml-chtml.js"></script>

	<link rel="icon" href="../resources/img/favicon.ico" />
</head>

<body>
	<img id="logo" src="../resources/img/CentraleSupelec-Logo-V_RVB.png" alt="">
	<div class="reveal">
		<div class="slides">
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out" data-background="var(--r-background-color)">

	<div style="display: inline-grid; margin-bottom: 30px ; column-gap: 150px; grid-template-columns: auto auto; ">
		<a href="https://lmf.cnrs.fr/" target="_blank">
			<img src="../resources/img/lmf-logo-black-rgb.png" height="80px">
		</a>
		<a href="https://www.centralesupelec.fr/" target="_blank">
			<img src="../resources/img/CentraleSupelec-Logo-H_RVB.png" height="80px">
		</a>
	</div>

	<div style="text-align: left">
		<h2>Les systèmes d'exploitation</h2>
		<h3>Gestion des processus et des threads</h3>
	</div>
	
	<div class="description" >
		<span><span class="fa fa-graduation-cap">&#160;</span>3A - Cursus Ingénieurs - Dominante Informatique et Numérique</span><br>
		<span><span class="fa fa-university">&#160;</span>CentraleSupelec - Université Paris-Saclay - 2025/2026</span>
	</div>
		
	<div class="hero-card-id">
		<a href="https://wdi.centralesupelec.fr/aitsadoune/" target="_blank">
			<img src="../resources/img/idir.png" class="hero-user">
		</a>
		<div class="hero-desc">
			<a href="https://wdi.centralesupelec.fr/aitsadoune/" target="_blank">
				<span class="hero-name"><strong>Idir AIT SADOUNE </strong></span>
			</a>
			<br>
			<a href="mailto:idir.aitsadoune@centralesupelec.fr" target="_blank">
				<span class="hero-email">idir.aitsadoune@centralesupelec.fr</span>
			</a>
		</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section id="plan"></section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section id="ch1" name="La notion du processus"></section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Programme <span style="text-transform: lowercase;">vs</span> Processus</h2>

	<ul>
		<li>Un <b>programme</b> est un <i>ensemble d'instructions</i> (code exécutable) 
			écrit <br> dans un langage de programmation et <i>stocké sur un support</i> (disque, SSD, etc.).
			<ul>
				<li class="fragment"><i>le programme est passif</i> $\to$ c'est <b>un fichier</b> sur le disque tant qu’il n’est pas exécuté.</li>
				<li class="fragment">ne consomme aucune ressource système tant qu’il n’est pas lancé.</li>
			</ul>
		</li>

		<li class="fragment skip">Un <b>processus</b> est un programme <i>en cours d’exécution</i>.
			<ul>
				<li class="fragment">c'est une <i>entité active</i>, créée et gérée par le système d’exploitation.</li>
				<li class="fragment"><strong>Exemple</strong> $\to$ lorsque on ouvre le programme Firefox, il devient un processus.</li>
			</ul>
		</li>

    <li class="fragment skip">
			<b>Un programme</b> peut donner <i>naissance à plusieurs processus</i>.
			<ul>
				<li class="fragment"><strong>Exemple</strong> $\to$ si on ouvres plusieurs fenêtres de Firefox, on aura plusieurs processus.</li>
			</ul>
		</li>

		<li class="fragment skip">
			<b>Un processus</b> est forcément <i>créé par un autre processus</i> 
			<ul>
				<li>le système d'exploitation par exemple</li>
				<li>l'appel système <cs-code>fork()</cs-code> sous <b>UNIX/Linux</b></li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
  <h2 style="margin-bottom: 5px;">Programme <span style="text-transform: lowercase;">vs</span> Processus</h2>
	<h3>Quelques exemples ...</h3>

	<ul>
		<li>Dans <b>un OS moderne</b>, plusieurs processus <i>s'exécutent en parallèle</i> :
			<ul>
				<li class="fragment"><b>les processus de l'OS</b> (gestion du réseau, gestion des utilisateurs, ...)</li>
				<li class="fragment">le <b>shell</b> (toute <i>l'interface graphique</i> $\rightarrow$ plusieurs processus).</li>
				<li class="fragment">l'IDE <b>VSCode</b> avec lequel je tape ce cours.</li>
				<li class="fragment">le navigateur <b>Chrome</b> qui me permet de visualiser ce cours.</li>
			</ul>
		</li>

		<li class="skip fragment">
			Commande <cs-code>top</cs-code> sous <b>Unix/Linux</b> $\to$
			afficher en temps réel la liste des processus actifs et l’utilisation des ressources du système (CPU, mémoire, etc.).
		</li>
    <pre class="fragment skip"><code class="language-shell hljs" data-trim><script type="text/template">
			$ top -stats command,pid,ppid,cpu,pstate  
										
			COMMAND             PID     PPID    %CPU   STATE
			launchd             1       0       8.5    sleeping
			top                 74562   34386   3.7    running
			Terminal            34311   1       3.0    sleeping
			WindowServer        169     1       2.5    sleeping
			...
		</script></code></pre>
	</ul>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section id="ch2" name="La gestion des processus par l'OS"></section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Rôle de l'OS</h2>

	<ul>
		<li class="fragment"><b>Création et suppression de processus</b>
			<ul>
				<li>Programme $\rightarrow$ processus</li>
				<li><b>Munir</b> le programme des <b>informations</b> nécessaires pour son <b>exécution</b>
				</li>
			</ul>
		</li>
		<li class="fragment skip"><b>Suspension et reprise</b>
			<ul>
				<li>Multiprogrammation $\rightarrow$ <b>interrompre et reprendre</b> les processus</li>
				<li><b>Gestion de la mémoire</b> où sont stockées les processus interrompus</li>
			</ul>
		</li>
		<li class="fragment skip"><b>Communication et synchronisation</b>
			<ul>
				<li>Partage de données entre plusieurs processus</li>
				<li><b>Consistance</b> de l'état de la mémoire</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Rôle de l'OS</h2>

	<ul>
		<li style="color:red"><strong>Création et suppression de processus</strong>
			<ul>
				<li>Programme $\rightarrow$ processus</li>
				<li><strong>Munir</strong> le programme des <strong>informations</strong> nécessaires pour son <strong>exécution</strong>
				</li>
			</ul>
		</li>
		<li class="skip"><b>Suspension et reprise</b>
			<ul>
				<li>Multiprogrammation $\rightarrow$ <b>interrompre et reprendre</b> les processus</li>
				<li><b>Gestion de la mémoire</b> où sont stockées les processus interrompus</li>
			</ul>
		</li>
		<li class="skip"><b>Communication et synchronisation</b>
			<ul>
				<li>Partage de données entre plusieurs processus</li>
				<li><b>Consistance</b> de l'état de la mémoire</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Création de processus</h2>

	<div id="default-block" class="left-content">
		<b>Rappel</b> $\to$
		un processus est forcément créé par un autre processus
	</div>

	<div class="left-content skip">
		L’<b>OS</b> crée un processus à la demande : <br>
		<ul>
				<li class="fragment">
					Lorsqu'<i>un utilisateur</i> lance un programme.
				</li>
				<li class="fragment">
					Lorsqu'<i>un processus</i> engendre un autre processus:
					<ul>
						<li class="fragment">
							<b>sous UNIX</b>/<b>Linux</b> $\rightarrow$ 2 <i>appels système</i>
							<ul id="fleche">
								<li><cs-code>fork</cs-code> pour créer un processus à partir du processus courant
									(le processus est <i>dupliqué</i>)
								</li>
								<li><cs-code>exec</cs-code> pour <b>remplacer</b> le processus courant par un
									autre processus</li>
							</ul>
						</li>

						<li class="fragment">
							<b>sous WINDOWS</b>
							<ul id="fleche">
								<li><cs-code>createprocess</cs-code> pour créer un processus
									(le processus courant est <b>conservé</b>)
								</li>
							</ul>
						</li>
					</ul>
				</li>
			</ul>

			<div class="fragment skip">
				Lorsque l'<b>OS</b> crée <i>un processus</i> $\to$ il charge le code <b>en mémoire</b>, initialise <br> <i>les structures</i> (<b>PCB</b>), 
				et le met dans la file des <i>processus prêts</i> à exécuter.
			</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>L'espace mémoire d'un processus</h2>

	<div id="default-block" class="left-content">
		Le processus a <b>son propre espace mémoire</b>, son compteur ordinal (PC), <br> ses registres, ses descripteurs de fichiers, etc.
	</div>

	<div style="display: flex; align-items: center;" class="skip">
		<div style="width: 60%;">
			<ul>
				<li class="fragment"><b>Code exécutable</b> en lecture seule <br> (taille connue)</li>
				<li class="fragment skip"><b>Variables/Constantes globales</b> <br> (taille connue)</li>
				<li class="fragment skip"><b>Pile</b> pour gérer les contextes et les variables temporaires
					(taille inconnue)</li>
				<li class="fragment skip"><b>Le TAS</b> ou la <b>Zone d'allocation dynamique <br> de mémoire</b>
					(taille inconnue)</li>
			</ul>
		</div>

    <div style="width: 40%;">
			<img 	src="./img/f32-memoire-process.png">
		</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Process Control Block - PCB</h2>

	<p>
		<b>Structure de données</b> contenant des informations utilisée 
		par le système d’exploitation pour <b>définir</b> et <b>gérer un processus</b>.
	</p>

	<div class="fragment" style="display: flex; align-items: center;">

		<div style="width: 50%;">
			<img src="./img/f20-process-control-block.png">
		</div>

		<div class="r-stack" style="width: 50%;">
			<ul class="fragment fade-in-then-out">
				<li>Information <b>mémoire</b></li>
				<li>Données d'<b>ordonnancement</b></li>
				<li><b>Périphériques</b> alloués</li>
				<li>Information d'<b>usage</b></li>
				<li><b>État</b> du processus/processeur</li>
			</ul>

			<p class="fragment fade-in">
				Tout ce qui doit être sauvegardé <br> pour <b>interrompre</b> puis
				<b>reprendre</b> l'exécution d'un processus.
			</p>
		</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Rôle de l'OS</h2>

	<ul>
		<li><b>Création et suppression de processus</b>
			<ul>
				<li>Programme $\rightarrow$ processus</li>
				<li><b>Munir</b> le programme des <b>informations</b> nécessaires pour son <b>exécution</b>
				</li>
			</ul>
		</li>
		<li class="skip" style="color: red !important;"><strong>Suspension et reprise</strong>
			<ul>
				<li>Multiprogrammation $\rightarrow$ <strong>interrompre et reprendre</strong> les processus</li>
				<li><strong>Gestion de la mémoire</strong> où sont stockées les processus interrompus</li>
			</ul>
		</li>
		<li class="skip"><b>Communication et synchronisation</b>
			<ul>
				<li>Partage de données entre plusieurs processus</li>
				<li><b>Consistance</b> de l'état de la mémoire</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Cycle de vie du processus</h2>

	<div class="r-stack skip">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_1.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_2.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_3.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_4.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_5.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_6.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_7.svg" height="100%"
			alt="">
		<img class="fragment fade-in-then-out" src="./img/cycle_vie_process_8.svg" height="100%"
			alt="">
		<img data-id="cycle" class="fragment fade-in" src="./img/cycle_vie_process_9.svg" height="100%" alt="">
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Suspension de l'exécution</h2>

	<div style="display: flex; align-items: center;" class="skip">
		<div style="width: 65%;">
			<ul>
				<li>Le processus en exécution laisse la main si:
					<ul id="fleche">
						<li class="fragment skip">son quantum a expiré $\rightarrow$ état <b>Prêt</b></li>
						<li class="fragment skip">crée un processus fils (<cs-code>fork</cs-code>) $\rightarrow$  état <b>Prêt</b></li>
						<li class="fragment skip">fait une demande d'E/S $\rightarrow$  état <b>Bloqué</b></li>
						<li class="fragment skip">exécute <cs-code>wait</cs-code> $\rightarrow$  état <b>Bloqué</b></li>
					</ul>
				</li>
			</ul>
		</div>
		<div style="width: 35%; ">
			<img data-id="cycle" src="./img/cycle_vie_process_10.svg">
		</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Commutation de processus</h2>

	<div>
		<img src="./img/f25-changement-contexte.png" width="80%" alt="">
	</div>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Rôle de l'OS</h2>

	<ul>
		<li><b>Création et suppression de processus</b>
			<ul>
				<li>Programme $\rightarrow$ processus</li>
				<li><b>Munir</b> le programme des <b>informations</b> nécessaires pour son <b>exécution</b>
				</li>
			</ul>
		</li>
		<li class="skip"><b>Suspension et reprise</b>
			<ul>
				<li>Multiprogrammation $\rightarrow$ <b>interrompre et reprendre</b> les processus</li>
				<li><b>Gestion de la mémoire</b> où sont stockées les processus interrompus</li>
			</ul>
		</li>
		<li class="skip" style="color: red !important;"><strong>Communication et synchronisation</strong>
			<ul>
				<li>Partage de données entre plusieurs processus</li>
				<li><strong>Consistance</strong> de l'état de la mémoire</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Actions de l'OS</h2>

	<ul>
		<li class="fragment">
			<b>Mémoire</b> $\to$ chaque processus a son propre espace mémoire
			<ul id="fleche">
				<li class="fragment">pas de problème de consistance mémoire/processeur</li>
			</ul>
		</li>
		<li class="skip fragment">
			<b>Verrous</b> (<cs-code>locks</cs-code>) $\to$ un processus verrouille l'accès à une ressource
			<ul id="fleche">
				<li class="fragment">gestion de l'accès à une <i>section critique</i></li>
				<li class="fragment">file d'attente pour l'accès à la ressource</li>
			</ul>
		</li>
		<li class="skip fragment">
			<b>Outils</b> et Algorithmes de <b>synchronisation</b>
			<ul id="fleche">
				<li class="fragment">l'<b>OS</b> propose différents outils de synchronisation</li>
				<li class="fragment">files de messages, mémoire partagée, tubes (<b>pipes</b>), sockets, etc.</li>
				<li class="fragment"><u>voir cours Synchronisation des processus</u> (<b>prochain chapitre</b>)</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section id="ch3" name="La notion du thread"></section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Thread <span style="text-transform: lowercase;">vs</span> Processus</h2>

	<div style="float: right; margin-bottom: 15px; margin-left: 15px; width: 400px;">
		<img src="./img/thread.svg">
	</div>

	<ul style="display: block;">
		<li><b>Un thread</b> est l'<i>unité d'exécution de base <br> 
			d'un processus</i>, décrit par son <i>point d'exécution</i> <br>
				et son <i>état interne</i> (registres, pile, ...). 
			<ul id="fleche">
				<li class="fragment"><b>un processus</b> peut avoir <b>plusieurs threads</b></li>
				<li class="fragment">les threads partagent le <b>code et les données</b> <br> 
					du processus (l'<b>espace mémoire du processus</b>)</li>
				<li class="fragment">chaque thread a <b>sa propre pile</b> et 
					<i>partage</i> les mêmes <b>variables globales</b> avec les autres threads</li>
				
			</ul>
		</li>

		<li class="fragment skip"><b>Un thread</b> est également appelé
			<b>processus léger</b>.
		</li>

		<li class="fragment skip">
			<strong>Exemple</strong> $\to$ un navigateur web
			<ul id="fleche">
				<li>le navigateur entier $=$ un processus.</li>
				<li>chaque onglet ou tâche $=$ un thread à l'intérieur du processus.</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Utilisation des Threads</h2>

	<div style="float: right; margin-bottom: 15px; margin-left: 15px; width: 400px;">
		<img src="./img/thread.svg">
	</div>

	<ul style="display: block;">
		<li>Le <b>Thread</b> permet la gestion de <b>plusieurs traitements en parallèle</b> 
			dans le même processus.
			<ul id="fleche">
				<li class="fragment">
					<i>création</i> d'un thread $\equiv$ exécuter une fonction <br> 
					en parallèle par <i>un appel système</i> : <br>
					sous <b>Unix</b> $\to$ <cs-code>pthread_create()</cs-code> <br>
					sous <b>Windows</b> $\to$ <cs-code>CreateThread()</cs-code>
				</li>
				<li class="fragment">
					le passage de ressources entre threads facilité.
				</li>
				<li class="fragment">
					les variables dans le contexte du même
					processus.
				</li>
			</ul>
		</li>

		<li class="fragment skip">
			<b>Performances améliorées</b> par rapport aux processus :
			<ul id="fleche">
				<li class="fragment">création plus rapide;</li>
				<li class="fragment">changement de contexte plus rapide;</li>
				<li class="fragment">partage du code $\to$ gain de place en mémoire;</li>
				<li class="fragment">réactivité $\to$ le processus s'exécute pendant qu'un thread est en attente.</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section id="ch4" name="L'ordonnancement"></section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Multiprogrammation <span style="text-transform: lowercase;">vs</span> temps partagé</h2>

	<ul>
		<li>
			<b>Multiprogrammation</b>
			<ul>
				<li>
					le <i>but</i> $\to$ <i>maximiser l'utilisation</i> du <b>CPU</b> (éviter qu'il reste inactif)
				</li>
				<li class="fragment">
					la capacité d'un <b>OS</b> à garder <i>plusieurs processus en mémoire</i>.
				</li>
			</ul>
		</li>

		<li class="fragment skip">
			<b>Temps partagé (time sharing)</b>
			<ul>
				<li>
					le <i>but</i> $\to$ améliorer la <i>réactivité</i> et le <i>partage</i> équitable du <b>CPU</b>.
				</li>
				<li class="fragment">
					le <b>CPU</b> est partagé entre <i>plusieurs processus</i>.
				</li>
				<li class="fragment">
					chaque processus utilise le <b>CPU</b> pendant un <b>quantum de temps</b>.
				</li>
				<li class="fragment">
					l'<b>OS</b> <i>alterne rapidement</i> entre processus <br> $\to$ donner l'illusion qu'ils <i>s'exécutent simultanément</i>
				</li>
			</ul>
		</li>

		<li class="fragment skip">
			L'<b>OS</b> gère ces mécanismes via :
			<ul>
				<li>
					un <i>ordonnanceur</i> (<b>scheduler</b>) décidant quel processus obtient le <b>CPU</b>
				</li>
				<li class="fragment">
					des <i>files d'attente</i> de processus (<b>prêt</b>, <b>actif</b>, et <b>bloqué</b>),
				</li>
				<li class="fragment">
					des <b>interruptions</b> permettant de reprendre le contrôle à <i>la fin d'un quantum</i>.
				</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>L'ordonnancement</h2>

	<ul>
		<li>
			L'<i>ordonnancement</i> est le mécanisme par lequel l'<b>OS</b> décide 
			quel <i>processus</i> obtient le <b>CPU</b> et pendant combien de temps (<b>quantum de temps</b>).
		</li>

		<li class="fragment skip">
			Dans l'<i>analyse d'un ordonnacement</i>, on ne s'intéresse pas à la durée totale <br> d'un processus ... 
			<span class="fragment">mais au <b>temps</b> pendant lequel il va <b>garder le CPU</b> :</span>
			<ul id="fleche">
				<li class="fragment">jusqu'à ce qu'il <i>termine</i> (fin d'éxécution)</li>
				<li class="fragment">jusqu'à ce qu'il <i>fasse une E/S</i> ($\to$ à l'état <b>bloqué</b>)</li>
				<li class="fragment">jusqu'à ce que l'<b>OS</b> décide que <i>ce n'est plus son tour</i> (fin de <b>quantum</b>, $\to$ à l'état <b>actif</b>)</li>
			</ul>
		</li>

		<li class="fragment skip"><i>Le remplacement d'un processus</i> en cours d'exécution a un coût <br>
			(<b>commutation de contexte</b>)
			<ul>
				<li class="fragment">exécution de la <i>routine d'ordonnancement</i></li>
				<li class="fragment">sauvegarde du <i>contexte</i> (registres + <b>PC</b>)</li>
				<li class="fragment">chargement d'un nouveau <i>contexte</i></li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Les critères d'un ordonnancement</h2>

	<ul>
		<li class="fragment skip">être <b>équitable</b> (<b>fairness</b>) vis-à-vis des processus ;</li>
		<li class="fragment skip">maximiser l'utilisation globale du processeur (<b>efficace</b>) ;</li>
		<li class="fragment skip">avoir un comportement le plus <b>prévisible</b> possible ;</li>
		<li class="fragment skip">permettre un maximum d'utilisateurs interactifs (<b>réactif</b>) ;</li>
		<li class="fragment skip"><b>minimiser le surcoût</b> (<b>overhead</b>) lier à la parallélisation ;</li>
		<li class="fragment skip">assurer une <b>utilisation maximale</b> des ressources ;</li>
		<li class="fragment skip">gérer convenablement les <b>priorités</b>.</li>
	</ul>

	<div id="alert-block" class="skip fragment" style="font-size: 28px;">
		<b>Objectif</b> $\to$ 
		choisir un <b>algorithme d'ordonnancement</b>
		qui <i>minimise</i> ou <i>maximise</i> <b>un critère</b>.
</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Les critères d'un ordonnancement</h2>
  <h3>Le taux d'utilisation</h3>

	<p><b>Proportion de temps</b> pendant lequel le <b>CPU</b> est utilisée</p>

	<div class="fragment" >
			<img src="./img/critere-1.svg" alt="">
			<p>$taux=\frac{5}{6}=83\%$ <span class="fragment">$\rightarrow$ à <b>maximiser</b></span> </p>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Les critères d'un ordonnancement</h2>
	<h3>Le débit</h3>

	<p><b>Nombre moyen de processus</b> traités par unité de temps</p>

	<div class="fragment">
			<img  src="./img/critere-1.svg" alt="">
			<p>$nb=\frac{3}{6}=0.5$ <span class="fragment">$\rightarrow$ à <b>maximiser</b></span> </p>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Les critères d'un ordonnancement</h2>
	<h3>Le Temps d'attente</h3>

	<p><b>Temps total</b> passé <b>par tous les processus</b> dans la file <b>prêt</b></p>

	<div class="fragment" >
			<img src="./img/critere-1.svg" alt="">
			<p>$moyenne=\frac{1+2+5}{3}=2.66$ <span class="fragment">$\rightarrow$ à <b>minimiser</b></span></p>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Les critères d'un ordonnancement</h2>
  <h3>La Rotation</h3>

	<p>
			<b>Durée</b> d'un processus 
			$\rightarrow$ <b>temps de réponse</b> du processus <br>
			($date\_terminaison$ $-$ $date\_creation$) 
	</p>

	<div class="fragment">
			<img src="./img/critere-1.svg" alt="">
			<p>$moyenne=\frac{5+6+6}{3}=5.66$ <span class="fragment">$\rightarrow$ à <b>minimiser</b></span></p>
	</div> 

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Ordonnancement</h2>
	<h3>préemptif <span style="text-transform: lowercase;">vs</span> non préemptif</h3>

	<ul>
		<li class="fragment ">
			Ordonnancement <b>préemptif</b> (<b>avec réquisition</b>) 
			<ul>
				<li>
					l'<b>OS</b> <i>peut interrompre</i> un processus en cours pour en exécuter un autre :
						<ul id="fleche">
							<li class="fragment">quand le <b>quantum</b> est écoulé</li>
							<li class="fragment">lorsqu'<b>un processus plus prioritaire</b> demande à utiliser le <b>CPU</b>
							</li>
						</ul>
				</li>
				<li class="fragment">
					assure une <i>meilleure réactivité</i>
				</li> 
				<li class="fragment">
					indispensable pour les <b>systèmes temps réel</b> ou les <b>systèmes interactifs</b>.
				</li>
			</ul> 
		</li>
		

		<li class="fragment skip">Ordonnancement <b>non préemptif</b> 
			<ul>
				<li>
					un processus <i>garde le </i> <b>CPU</b> jusqu'à ce que : 
					<ul id="fleche">
						<li class="fragment">il se termine</li>
						<li class="fragment">il se bloque (en attente d'une ressource)</li>
					</ul>
				</li>
				<li class="fragment">
							plus <i>simple</i>, mais moins réactif.
				</li>
			</ul>
		</li>
	</ul>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Ordonnancement</h2>
	<h3>préemptif</h3>

	<div>
		<img src="./img/ordonnacement-pre.png" height="450px" alt="">
	</div>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Ordonnancement</h2>
	<h3>non préemptif</h3>

	<div>
		<img src="./img/ordonnancement-non-pre.png" height="450px" alt="">
	</div>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">De nombreuses stratégies</h2>
	<h3 class="fragment">FIFO sans préemption</h3>

	<div class="fragment" style="float: right; margin-bottom: 20px; margin-left: 20px; width: 500px;">
		<img src="./img/f27-ordonnancement.png" width="100%">
	</div>

	<div>
		<ul style="display: block;">
			<li class="fragment"><b>Principe</b>: 
				<ul id="fleche"><li>premier arrivé, premier servi.</li></ul>
			</li>
			<li class="fragment skip">
				<b style="color: green;">Avantages</b> :
				<ul id="ok">
					<li>Simple à implémenter</li>
					<li>Équitable dans l'ordre d'arrivée</li>
				</ul>
			</li>
			<li class="fragment skip">
				<b style="color: red;">Inconvénients</b> :
				<ul id="ko">
					<li>Peu efficace $\to$ des processus ont "longtemps" le processeur</li>
					<li>Peu réactif $\to$ des processus peuvent attendre longtemps</li>
				</ul>	
			</li>
		</ul>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">De nombreuses stratégies</h2>
	<h3>Plus court d'abord</h3>

	<div style="float: right; margin-bottom: 20px; margin-left: 20px; width: 500px;">
		<img src="./img/f26-ordonnancement.png" width="100%">
	</div>

	<div>
		<ul style="display: block;">
			<li><b>Principe</b> : 
				<ul id="fleche"><li>priorité au processus le plus court</li></ul>
			</li>
			<li class="fragment skip">
				<b style="color: green;">Avantages</b> :
				<ul id="ok">
					<li>Réactif $\to$ avantage aux petits processus</li>
					<li>Optimal sur le temps d'attente moyen</li>
				</ul>
			</li>
			<li class="fragment skip">
				<b style="color:red">Inconvénients</b> :
				<ul id="ko">
					<li>Pas efficace $\to$ les processus ont moins le processeur s'il y a beaucoup d'E/S</li>
					<li>Non équitable $\to$ on peut avoir une <span style="color:red">famine</span> des gros processus</li>
				</ul>	
			</li>
		</ul>
	</div>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">De nombreuses stratégies</h2>
	<h3>Round-Robin (FIFO préemptif)</h3>

	<div style="float: right; margin-bottom: 20px; margin-left: 20px; width: 500px;">
		<img src="./img/f28-ordonnancement.png" width="100%">
	</div>
	
	<div>
		<ul style="display: block;">
			<li><b>Principe</b> :
				<ul id="fleche"><li><b>FIFO</b> avec <b>quantum</b> de temps</li>
				</ul>
			</li>
			<li class="fragment skip">
				<b style="color:green">Avantages</b> :
				<ul id="ok">
					<li>Équitable $\to$ tout le monde a le processeur</li>
					<li>Réactif $\to$ les processus n'attendent pas</li>
				</ul>
			</li>
			<li class="fragment skip">
				<b style="color:red">Inconvénients</b> :
				<ul id="ko">
					<li>Temps d'attente moyen plus élevé</li>
					<li>Beaucoup de commutations $\rightarrow$ surcoût!</li>
				</ul>
			</li>
		</ul>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">De nombreuses stratégies</h2>
	<h3>Files de priorités</h3>

	<div style="display: flex; align-items: center;">
		<div class="left-content" style="width: 60%;">
			<ul style="display: block;">
				<li>Plusieurs files d'attente</li>
				<li class="fragment">La durée des quantums peut dépendre de la file</li>
			</ul>
			<ul id="ok" style="display: block;" class="fragment skip"><li>favorise le temps de réponse des processus systèmes</li></ul>
			<ul id="ko" style="display: block;" class="fragment"><li>Comment choisir la priorité ?</li></ul>
		</div>

		<div style="width: 40%;">
			<img src="./img/f29-ordonnancement.png" width="100%">
		</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">De nombreuses stratégies</h2>
	<h3>Files de priorités dynamiques</h3>

	<div style="display: flex; align-items: center;">
		<div style="width: 65%;">
			<ul style="display: block;">
				<li>
					La priorité d'un processus peut être modifié par l'OS
					<ul>
						<li class="fragment">par exemple sortie d'attente I/O</li>
						<li class="fragment">attente longue en file basse priorité</li>
					</ul>
				</li>
				<li class="fragment skip"><b>Utilité</b>  $\to$  Windows NT, MacOS X, Linux </li>
				<li class="fragment">Notion de <b>classe de priorités</b></li>
			</ul>
		</div>

		<div style="width: 35%;">
			<img src="./img/f30-ordonnancement.png" width="100%">
		</div>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2 style="margin-bottom: 5px;">Exemple - Solaris </h2>
	<h3>OS des machines Sun entre 1993 et 2000</h3>
	
	<div class="left-content">
		<p>
			<b>Principe</b>
		</p>
		
		<ul>
			<li>Quantum de temps selon priorité (0 = priorité max)</li>
			<li class="fragment">Priorité modifiée à la fin du quantum ou après une E/S
				<ul id="fleche">
					<li class="fragment">prioritaire $\rightarrow$ grand quantum</li>
					<li class="fragment">quantum consommé $\rightarrow$ priorité augmentée</li>
					<li class="fragment">E/S $\rightarrow$ priorité diminuée</li>
				</ul>
			</li>
		</ul>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Exemple - Windows XP et après</h2>

	<div class="left-content">
		<p>
			<b>Principe</b>
		</p>

		<ul>
			<li>Priorité + Round Robin
				<ul id="fleche">
					<li>gérée au niveau des threads uniquement</li>
					<li class="fragment">32 niveaux de priorité</li>
					<li class="fragment">ordonnancement préemptif par niveau de priorité</li>
				</ul>
			</li>
			<li class="skip fragment">
				Priorité dynamique
				<ul id="fleche">
					<li>baissée à la fin du quantum</li>
					<li class="fragment">remontée après chaque E/S $\rightarrow$ interface graphique plus réactive!</li>
				</ul>
			</li>
		</ul>
	</div>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Exemple - Linux, MacOS X</h2>

	<div class="left-content">
		<p>
			<b>Principe</b>
		</p>

		<ul>
			<li>2 algorithmes:
				<ol>
					<li>Tâches <b>temps réel</b> $\to$ préemptif selon priorité, <b>FIFO</b> ou <b>RR</b> par priorité</li>
					<li>Autres tâches $\to$ temps partagé équitable</li>
				</ol>
			</li>
			<li  class="skip fragment">
				Système de crédits
				<ul id="fleche"> 
					<li>chaque processus dispose d'un <b>crédit</b> = sa priorité</li>
					<li>le processus le plus riche l'emporte (préemptif)</li>
					<li class="fragment">perte de 1 crédit à la fin du quantum</li>
					<li class="fragment">si aucun processus <b>prêt</b> n'a de crédit, <b>tous</b> les processus sont re-crédités
					<br> $\to$ $credit^{'}$ $=$ $credit/2$ $+$ $credit_{init}$
					</li>
				</ul>
			</li>
		</ul>
	</div>

</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section id="ch5" name="La synthèse"></section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h2>Synthèse</h2>
	
	<ul>
			<li class="skip fragment">Un <b>processus</b> est un programme exécuté par un processeur</li>
			<li class="skip fragment">L'OS stocke les informations sur les processus dans un <b>PCB</b></li>
			<li class="skip fragment">L'OS assure la <b>consistance</b> des données en mémoire</li>
			<li class="skip fragment">Les <b>threads</b> partagent le code, l'environnement et le tas</li>
			<li class="skip fragment"><b>Ordonnancement</b> $=$ choix d'un processus à exécuter</li>
			<li class="skip fragment">
					Algorithmes d'ordonnancement :
					<ul>
							<li>FIFO</li>
							<li>Plus court d'abord</li>
							<li>Round-Robin</li>
					</ul>
			</li>
	</ul>
	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<section data-auto-animate data-transition="fade-in fade-out">
	<h1>Merci</h1>
	<p>
		<a href="./5-gestion-des-processus.pdf" target="_blank">Version PDF des slides</a>
	</p>
	<p>
		<a href="#">Retour à l'accueil</a>
		- <a href="#/plan">Retour au plan</a>
	</p>	
</section>
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
<!-- %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% -->
		</div>
	</div>

	<script src="../resources/js/plan.js"></script>
	<script src="../reveal-js-framework/dist/reveal.js"></script>
	<script src="../reveal-js-framework/plugin/notes/notes.js"></script>
	<script src="../reveal-js-framework/plugin/markdown/markdown.js"></script>
	<script src="../reveal-js-framework/plugin/highlight/highlight.js"></script>

	<script>
		// More info about initialization & config:
		// - https://revealjs.com/initialization/
		// - https://revealjs.com/config/
		Reveal.initialize({
			// Display presentation control arrows
			controls: true,
			// Display a presentation progress bar
			progress: true,

			// Vertical centering of slides
			center: true,
      // The "normal" size of the presentation, aspect ratio will
			// be preserved when the presentation is scaled to fit different
			// resolutions. Can be specified using percentage units.
			width: 1280,
			height: 720,

			// Add the current slide number to the URL hash so that reloading the
			// page/copying the URL will return you to the same slide
			hash: true,

			slideNumber: 'c/t',

			// Learn about plugins: https://revealjs.com/plugins/
			plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
		});

		Reveal.configure({ pdfSeparateFragments: false });
	</script>
	
</body>
</html>